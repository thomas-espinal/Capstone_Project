---
title: "Bellabeat Case Study"
author: "Thomas Espinal"
date: "1/30/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

Welcome to my Bellabeats case study! In this study, I analyze a dataset for insights on users of a FitBit fitness tracking app for the marketing team at Bellabeat. In order to do this, I will follow the data analysis process: ask, pepare, process, analyze, share, and act.

### About the Company

Bellabeat is a successful small company sectored in the tech industry as a manufacturer of health focused products for women. They are a large player in the global smart device market and are looking for insights in fitness data that could help unlock new growth and opportunities for the company. You can find more information on [their website.](https://bellabeat.com/)

***

## Ask Phase

In this phase, I tried to better understand the data and the task at hand. To do that, I needed to do more research and ask more questions.

1. What are some trends in smart device usage? How could these trends be applied to Bellabeat's marketing strategy? First, the company needs to better understand the data collected to then target their marketing to meet customer's needs based on their usage of fitness smart devices.

2. Who are the main stakeholders? Urška Sršen and Sando Mur (co-founders of the company), Bellabeat marketing analytics team, as well as the customers.

### Business Task

To analyze how Bellabeat customers use their smart devices and then identify potential opportunities for growth and recommendations for current products

### Obtaining the Data

I was provided a public data set from Kaggle that explores smart device users' daily habits from FitBit Fitness Tracker Data (CC0: Public Domain, dataset made available through Mobius). This Kaggle data set contains personal fitness tracker from thirty FitBit users. Thirty eligble FitBit users consented to the submission of personal tracker data, inlcuding minute-level output for physical activity, heart rate, and sleep monitoring. It includes information about daily activity, steps, and heart rate that can be used to explore users' habits. 

Link to dataset: [kaggle.com](https://www.kaggle.com/arashnic/fitbit)

This dataset generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016.

### Loading Packages

I will be using certain R packages for analysis and cleaning. These will be downloaded and imported in this section. Note that I'm using the options **message=FALSE** and **warning=FALSE** to prevent printing of the executed R code and the warning messages. 

```{r, message=FALSE, warning=FALSE}
install.packages("tidyverse")
install.packages("lubridate")
install.packages("dplyr")
install.packages("ggplot2")
install.packages("tidyr")

library (tidyverse)
library (lubridate)
library (dplyr)
library (ggplot2)
library (tidyr)
```

***

## Importing and Transforming the Dataset (Prepare & Process)

Here, I import the data sets I will be using and then transform the data. Some of this work was done in excel where tasks could be done using filtering and formatting tools as well as some data formatting and column creation. 

1. In the weightLogInfo_merged, heartrate_seconds_merged, and sleepDay_merged files, I split the date cells into separate date and time columns.

2. Three duplicates were found in sleepDay_merged and were removed. 

3. In the weightLogInfo_merged file, a column with many missing values was removed.

4. A new column was created in the dailyActivity_merged and sleepDay_merged datasets to compute totals for active minutes and 
Note that outside these changes, no null values were found.

```{r}
dailyActivity <- read.csv("dailyActivity_merged.csv")
head(dailyActivity)
dailyCalories <- read.csv("dailyCalories_merged.csv")
head(dailyCalories)
dailyIntensities <- read.csv("dailyIntensities_merged.csv")
head(dailyIntensities)
heartRate <- read.csv("heartrate_seconds_merged.csv")
head (heartRate)
sleep <- read.csv("sleepDay_merged.csv")
head(sleep)
weight <- read.csv("weightLogInfo_merged.csv")
```

***

## Analyze Phase

With my data imported and assigned to proper variables, I can dive a little deeper into the data and get a good, bird's eye view of the data.

First, I need to see how many participants we have, due to the repeated entries of the user Id's.

### dailyActivity Distinct Users
```{r}
n_distinct(dailyActivity$Id)
```

### dailyCalories Distinct Users
```{r}
n_distinct(dailyCalories$Id)
```

### dailyIntensities Distinct Users
```{r}
n_distinct(dailyIntensities$Id)
```

### heartRate Distinct Users
```{r}
n_distinct(heartRate$Id)
```

### sleepDay Distinct Users
```{r}
n_distinct(sleep$Id)
```

### weightLogs Distinct Users
```{r}
n_distinct(weight$Id)
```

### Limitations of the Data Set

1. There is an insignificant number of participants in the weight and heart rate data sets, so those will not be used in the analysis. In the description found on Kaggle, there was said to be 30 participants but most of the data sources had 33 unique id's. 

2. The data is from 2016, users habits and dietary choices could have changed since this year and hence make the data outdated and not fit for actual business decisions.

A run through of the ROCCC metric in data credibility reveals the following:

1. Reliable- Low, not reliable with only 30 participants

2. Original- Low, third party provider of Mobius

3. Comprehensive- Med, most of the variables fall in line with what Bellabeat's products track

4. Current- Low, data is 6 years old

5. Cited- Low, Unkown/Third-party

Overall, the dataset is considered bad quality data, however, for the purpose of this exercise I will do my best to come up with an analysis and recommendation. I will focus my efforts on the daily activity, sleep, calories, and intensities data sets. 

To get some more detail and understanding of these data sets, I will take a look at some basic statistical measures for each one like the range and mean.

### dailyActivity Summary

```{r}
dailyActivity %>%
  select(TotalSteps, VeryActiveDistance, SedentaryMinutes, Calories) %>% 
  summary()
```
### dailyIntensisties Summary
```{r}
dailyIntensities %>% 
  select(VeryActiveMinutes, LightlyActiveMinutes, SedentaryMinutes) %>%
  summary()
```
### Sleep Summary
```{r}
sleep %>% 
  select(TotalMinutesAsleep, TotalTimeInBed) %>%
  summary()
```
With these summary statistics, we can see that participants are highly sedentary with an average time of 16.52 hours, and average just under 7 hours of sleep with 6.987. This can be improved with a good marketing campaign and allowing users to be more aware of these patterns to help improve them. On the other hand, users are being highly active for an average of 21 minutes a day and lightly active for an average of 3.2 hours a day, which are respectable numbers. In order to achieve a deeper understanding of the relationship between these variables, I will visualize some of these variables in plots below. 

***

## Visualize and Share

Here I will visualize some key variables in the observations from the data. In order to compare and analyze some of this data together, I will merge the sleep and calories datasets to test for correlations and then plot the two variables together. 
```{r}
combined_data <- merge(sleep, dailyActivity, by="Id")
n_distinct(combined_data$Id)
```


```{r}
ggplot (data=dailyActivity, aes(x=TotalDistance, y=Calories))+
  geom_point(size=.5)+ geom_smooth()+ labs(title="Calories vs Total Distance")
```

With the regression line here, we can see a positive trend with the more distance traveled in a day, the more calories a user burns. This can be used to market more awareness and activity incentives to educate consumers on the benefits of moving around more.
To reinforce this assumption, we can look at the relationship between fairly-active minutes as well as very-active minutes in relation to calories burned. 
```{r}
ggplot (data=dailyActivity, aes(x=FairlyActiveMinutes, y=Calories))+
  geom_point(size=.5)+ geom_smooth()+ labs(title="Calories vs Fairly Active Minutes")
```
```{r}
ggplot (data=dailyActivity, aes(x=VeryActiveMinutes, y=Calories))+
  geom_point(size=.5)+ geom_smooth()+ labs(title="Calories vs Very Active Minutes")
```
With the stronger positive trend in very-active minutes, you can narrow down that target market a step further and reach those users who are maybe new to a fitness lifestyle or not very committed (the lightly-active users) and launch a campaign to get them to delve deeper into their fitness journey with the use of Bellabeat's products and allow them to burn more calories.
```{r}
ggplot (data=dailyActivity)+
  geom_boxplot(aes(x=DayOfTheWeek, y=TotalActiveMinutes))+
  scale_x_discrete(limits=c("Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"))+
  labs(title="Active Minutes Logged Across the Week")
```

Although the averages in total active minutes does not move by a significant amount on any given day, the consistency in the data being clustered and closer to the average has a trend with a slight peak in the beginning of the week and a drop off there after. This information can be used to create a "weekend warrior" or enforce a more consistent habit in being active throughout the week.

***

## Act

### Conclusion and Recommendation to the Company

A majority of these users, despite using FitBit trackers, were sedentary and fell under the recommended allotment of sleep. These numbers being 16.52 hours of sedentary time per day and just about 7 hours of sleep. A lacking number of total steps per day was also found with numbers averaging 7638, under the recommended 10,0000. 
Along with the visual trends we found in the plots, it can be drawn to have the following conclusions for Bellabeat's marketing team:

1. Bellabeat marketing team can encourage users by educating and equipping them with knowledge about fitness benefits

2. The app can be utilized to send notifications to users to get up and move around or set a workout schedule with reminders

3. Highlight the features of the existing tracker-products to align with the aforementioned goals